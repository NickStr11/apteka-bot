# Apteka Bot ‚Äî Project Context

## –û–ø–∏—Å–∞–Ω–∏–µ
Telegram –±–æ—Ç –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ —Å –≥–æ–ª–æ—Å–æ–≤—ã–º –≤–≤–æ–¥–æ–º –∏ Chrome-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
d:\code\apteka\
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram_bot.py   # –ì–ª–∞–≤–Ω—ã–π –±–æ—Ç + API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ speech_kit.py     # Yandex SpeechKit —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sheets.py         # Google Sheets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ extractors/
‚îÇ       ‚îú‚îÄ‚îÄ phone.py          # –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ apteka_parser.py  # –ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ apteka.ru
‚îú‚îÄ‚îÄ extension/                 # Chrome-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json
‚îÇ   ‚îú‚îÄ‚îÄ popup.html/js
‚îÇ   ‚îî‚îÄ‚îÄ config.js             # URL –æ–±–ª–∞—á–Ω–æ–≥–æ API
‚îî‚îÄ‚îÄ requirements.txt
```

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ –∑–∞–∫–∞–∑–æ–≤ (Yandex SpeechKit)
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥: `79991234567 –ê—Å–ø–∏—Ä–∏–Ω`
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ —Å apteka.ru
- ‚úÖ Chrome-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–∫–∞–∑–∞
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã (WhatsApp, Telegram)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –≤ Google Sheets

## –•–æ—Å—Ç–∏–Ω–≥
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Render.com (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ)
- **URL:** https://apteka-bot.onrender.com
- **GitHub:** https://github.com/NickStr11/apteka-bot

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞ Render)
- `TELEGRAM_BOT_TOKEN`
- `TELEGRAM_ADMIN_ID`
- `YANDEX_SPEECHKIT_API_KEY`
- `GOOGLE_CREDENTIALS_JSON` (–ø–æ–ª–Ω—ã–π JSON —Å–µ—Ä–≤–∏—Å-–∞–∫–∫–∞—É–Ω—Ç–∞)

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
1. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π Render** ‚Äî —Å–µ—Ä–≤–∏—Å –∑–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –±—É–¥–∏—Ç –∑–∞ 30-50 —Å–µ–∫.
2. **Telegram inline buttons** ‚Äî –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç `sms:` –∏ `tel:` URL —Å—Ö–µ–º—ã.
3. **Max messenger** ‚Äî –Ω–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ deep link –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —á–∞—Ç–∞ –ø–æ –Ω–æ–º–µ—Ä—É.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google –¢–∞–±–ª–∏—Ü—ã
| –î–∞—Ç–∞ | –ó–∞–∫–∞–∑ | –¢–µ–ª–µ—Ñ–æ–Ω | –¢–æ–≤–∞—Ä—ã | –°—É–º–º–∞ | WA | SMS | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ | –ö–æ–Ω—Ç–∞–∫—Ç |

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤
- –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ WhatsApp –∏ Telegram
- Chrome-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –æ–±–ª–∞—á–Ω—ã–π API
- –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Google Sheets

## –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å
- [ ] –ù–∞–π—Ç–∏ —Ä–∞–±–æ—á–∏–π deep link –¥–ª—è Max
- [ ] –î–æ–±–∞–≤–∏—Ç—å cron-–ø–∏–Ω–≥ –¥–ª—è Render (—á—Ç–æ–±—ã –Ω–µ –∑–∞—Å—ã–ø–∞–ª)
- [ ] –í–µ–±-–ø–∞–Ω–µ–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–∫–∞–∑–æ–≤

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –Ω–æ–≤–æ–º –ü–ö (–Ω–∞ —Ä–∞–±–æ—Ç–µ)

1. **–°–∫–æ–ø–∏—Ä—É–π –≤—Å—é –ø–∞–ø–∫—É** –ø—Ä–æ–µ–∫—Ç–∞.
2. **–£—Å—Ç–∞–Ω–æ–≤–∏ Python** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 3.10+).
3. **–ù–∞—Å—Ç—Ä–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   - –û—Ç–∫—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.
   - `python -m venv .venv` (—Å–æ–∑–¥–∞–π –æ–∫—Ä—É–∂–µ–Ω–∏–µ)
   - `.venv\Scripts\activate` (–∞–∫—Ç–∏–≤–∏—Ä—É–π –Ω–∞ Windows)
   - `pip install -r requirements.txt`
4. **–ù–∞—Å—Ç—Ä–æ–π –∫–ª—é—á–∏**:
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª—Å—è (–∏–ª–∏ —Å–æ–∑–¥–∞–π –µ–≥–æ –∏–∑ `.env.example`).
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ JSON —Ñ–∞–π–ª Google-–∫–ª—é—á–µ–π –Ω–∞ –º–µ—Å—Ç–µ.
5. **–ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞**:
   - `python src/bot/telegram_bot.py`
6. **–ë—Ä–∞—É–∑–µ—Ä**:
   - –ó–∞–π–¥–∏ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Chrome -> "–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞" -> "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ".
   - –í—ã–±–µ—Ä–∏ –ø–∞–ø–∫—É `extension`.
